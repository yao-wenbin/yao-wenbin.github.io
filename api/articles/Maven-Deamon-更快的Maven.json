{"title":"Maven Deamon-更快的Maven","uid":"7685adb7b43e1e02fce5149c97fbe7da","slug":"Maven-Deamon-更快的Maven","date":"2023-08-27T14:53:23.000Z","updated":"2023-08-27T14:59:35.539Z","comments":true,"path":"api/articles/Maven-Deamon-更快的Maven.json","cover":[],"content":"<h2 id=\"简介\"><a href=\"#简介\" class=\"headerlink\" title=\"简介\"></a>简介</h2><p>Maven Daemon 简称mvnd，使用与Gradle与Takari相同的技巧，为Maven项目提供了更快的构建。 </p>\n<ul>\n<li>内置了maven</li>\n<li>通过一个长期的存活的后台线程来完成实际的构建。</li>\n<li>同一个后台线程能够服务于多个项目之间的构建。</li>\n<li>每个mvnd的客户端，使用了GraaleVM构建，占用内存更低，启动速度更快。</li>\n</ul>\n<h2 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h2><p><a href=\"https://github.com/apache/maven-mvnd\">GitHub - apache&#x2F;maven-mvnd: Apache Maven Daemon</a></p>\n<p>选择与自身系统相符的压缩包下载，比如说MacOS M1的用户选择darwin-aarch64.zip</p>\n<p>解压后，将其写入系统环境变量</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">vim</span> ~/.zshrc\n\n<span class=\"token comment\"># mvnd</span>\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">MVND_HOME</span><span class=\"token operator\">=</span>/Users/yaowenbin/Applications/apache-mvnd-1.0-m7\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\"><span class=\"token environment constant\">PATH</span></span><span class=\"token operator\">=</span><span class=\"token environment constant\">$PATH</span><span class=\"token builtin class-name\">:</span><span class=\"token variable\">$MVND_HOME</span>/bin\n\n<span class=\"token builtin class-name\">source</span> ~/.zshrc<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>使用<code>mvnd --help</code>校验是否安装成功</p>\n<p><img src=\"/post/Maven-Deamon-%E6%9B%B4%E5%BF%AB%E7%9A%84Maven/Pasted%20image%2020230827225035.png\"></p>\n<h2 id=\"mavend配置\"><a href=\"#mavend配置\" class=\"headerlink\" title=\"mavend配置\"></a>mavend配置</h2><p><img src=\"/post/Maven-Deamon-%E6%9B%B4%E5%BF%AB%E7%9A%84Maven/Pasted%20image%2020230827224646.png\"></p>\n<p>通过目录我们可以发现，mavend通过内置maven对其进行了一层包装。 所以我们对于mvnd的一些环境配置都可以通过直接更改下面的mvn文件实现，比如说切换阿里镜像源以及更改repository路径：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">vim</span> <span class=\"token variable\">$MVND_HOME</span>/mvn/conf/setting.xml<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\">\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>settings</span> <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://maven.apache.org/SETTINGS/1.2.0<span class=\"token punctuation\">\"</span></span>\n          <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>xsi</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2001/XMLSchema-instance<span class=\"token punctuation\">\"</span></span>\n          <span class=\"token attr-name\"><span class=\"token namespace\">xsi:</span>schemaLocation</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://maven.apache.org/SETTINGS/1.2.0 https://maven.apache.org/xsd/settings-1.2.0.xsd<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>localRepository</span><span class=\"token punctuation\">></span></span>/Users/yaowenbin/Applications/maven3.8.2/repository<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>localRepository</span><span class=\"token punctuation\">></span></span>\n\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>mirrors</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token comment\">&lt;!-- aliyun --></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>mirror</span><span class=\"token punctuation\">></span></span>\n\t\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>id</span><span class=\"token punctuation\">></span></span>aliyunpublic<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>id</span><span class=\"token punctuation\">></span></span>\n\t\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>mirrorOf</span><span class=\"token punctuation\">></span></span>*<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>mirrorOf</span><span class=\"token punctuation\">></span></span>\n\t\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>阿里云公共仓库<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>url</span><span class=\"token punctuation\">></span></span>https://maven.aliyun.com/repository/public<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>url</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>mirror</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>mirror</span><span class=\"token punctuation\">></span></span>\n\t\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>id</span><span class=\"token punctuation\">></span></span>aliyuncentral<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>id</span><span class=\"token punctuation\">></span></span>\n\t\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>mirrorOf</span><span class=\"token punctuation\">></span></span>*<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>mirrorOf</span><span class=\"token punctuation\">></span></span>\n\t\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>阿里云公共仓库<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>url</span><span class=\"token punctuation\">></span></span>https://maven.aliyun.com/repository/central<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>url</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>mirror</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>mirrors</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>settings</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"集成IDEA\"><a href=\"#集成IDEA\" class=\"headerlink\" title=\"集成IDEA\"></a>集成IDEA</h2><p>IDEA中目前还并未对mvnd有正式的支持，不过好在maven helper插件中，能够直接将mvn指令更换为mvnd简单的实现对于mvnd的支持。</p>\n<p><img src=\"/post/Maven-Deamon-%E6%9B%B4%E5%BF%AB%E7%9A%84Maven/Pasted%20image%2020230827225241.png\"></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">![](Pasted%20image%2020230827225220.png)<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>","text":"简介Maven Daemon 简称mvnd，使用与Gradle与Takari相同的技巧，为Maven项目提供了更快的构建。 内置了maven 通过一个长期的存活的后台线程来完成实际的构建。 同一个后台线程能够服务于多个项目之间的构建。 每个mvnd的客户端，使用了GraaleVM...","link":"","photos":[],"count_time":{"symbolsCount":"1.5k","symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"Build","slug":"Build","count":1,"path":"api/tags/Build.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%AE%80%E4%BB%8B\"><span class=\"toc-text\">简介</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%AE%89%E8%A3%85\"><span class=\"toc-text\">安装</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#mavend%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">mavend配置</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E9%9B%86%E6%88%90IDEA\"><span class=\"toc-text\">集成IDEA</span></a></li></ol>","author":{"name":"姚文彬","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"深入底层 掌握脉搏","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"多租户架构解析","uid":"bb79ff4f10f53b63ae134cf1b5bcc787","slug":"多租户架构解析","date":"2023-09-19T02:18:48.000Z","updated":"2023-09-19T02:19:16.591Z","comments":true,"path":"api/articles/多租户架构解析.json","cover":null,"text":"多租户架构是SaaS系统开发中不可避免要考虑到的问题之一。 多租户的意义在在于数据完全的隔离，即公司A无法看到公司B的任何数据，反之亦然。 使得每一个公司从自身层面上看都是独占系统的。 实现多租户功能需要尽可能的通过架构底层来实现，而不是让开发人员从业务SQL上进行拼接。否则极其...","link":"","photos":[],"count_time":{"symbolsCount":"1.5k","symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"架构设计","slug":"架构设计","count":1,"path":"api/tags/架构设计.json"}],"author":{"name":"姚文彬","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"深入底层 掌握脉搏","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"kafka-生产者原理","uid":"2c4486aa05507c9fe7bc6767ce95c998","slug":"kafka-生产者原理","date":"2023-08-17T10:26:08.000Z","updated":"2023-08-17T10:28:18.312Z","comments":true,"path":"api/articles/kafka-生产者原理.json","cover":[],"text":"kafka生产者生产者架构 一个kafka的生产者将包含着 MetaData（关于主题、分区的元数据缓存，会定时的从Broker中拉取） Partiioner分区器（用于根据消息的Key来决定其所在分区） Serializer序列化器（将从Java的POJO对象通过变为一串用于网...","link":"","photos":[],"count_time":{"symbolsCount":"3.1k","symbolsTime":"3 mins."},"categories":[],"tags":[{"name":"kafka","slug":"kafka","count":1,"path":"api/tags/kafka.json"}],"author":{"name":"姚文彬","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"深入底层 掌握脉搏","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}